(()=>{"use strict";const t=function(){function t(t,n){this.x=t,this.y=n}return t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.rotate=function(t){t=-t*(Math.PI/180);var n=Math.cos(t),e=Math.sin(t);return this.x=Math.round(1e4*(this.x*n-this.y*e))/1e4,this.y=Math.round(1e4*(this.x*e+this.y*n))/1e4,this},t.prototype.copy=function(){return new t(this.x,this.y)},t}();var n,e=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});const i=function(t){function n(n,e,i,o){var r=t.call(this,n,e)||this;return r.x=n,r.y=e,r.rotationSpeed=i,r.cell=o,r}return e(n,t),n}(t),o=function(){function t(t,n){this.from=t,this.to=n}return t.isIntersecting=function(t,n){function e(t,n,e){return(e.y-t.y)*(n.x-t.x)>(n.y-t.y)*(e.x-t.x)}return e(t.from,n.from,n.to)!=e(t.to,n.from,n.to)&&e(t.from,t.to,n.from)!=e(t.from,t.to,n.to)},t}();var r=function(){function n(n,e,o){var r=this;this.ctx=n,this.cellSize=e,this.borders=o,this.points=[],this.segments=[],this.lastSegments=[],this.lastSegmentsPoints=[],this.fade=0,this.mousePos=new t(0,0);for(var s=0;s<Math.floor(innerWidth/e);s++)for(var h=0;h<Math.floor(innerHeight/e);h++){var l=s*e+Math.floor(Math.random()*e),f=h*e+Math.floor(Math.random()*e);this.points.push(new i(l,f,1,new t(s,h)))}n.canvas.addEventListener("mousemove",(function(t){r.mousePos.x=t.x,r.mousePos.y=t.y})),this.calculateSegments()}return n.prototype.draw=function(){var t=this;this.ctx.fillStyle="rgb(237, 239, 255)",this.ctx.strokeStyle="rgb(237, 239, 255, "+Math.min(this.fade,255)/256+")",this.segments.filter((function(n){return!t.segments.find((function(t){return o.isIntersecting(n,t)&&t.from!==n.from&&t.to!==n.to&&t.from!==n.to&&t.to!==n.from}))})).forEach((function(n){t.borders.map((function(t){return o.isIntersecting(t,n)})).find((function(t){return t}))||n.from.x<0||n.from.x>innerWidth||n.from.y<0||n.from.y>innerHeight||n.to.x<0||n.to.x>innerWidth||n.to.y<0||n.to.y>innerHeight||n.from.x>innerWidth-innerWidth/5&&n.from.y<innerHeight/5||n.to.x>innerWidth-innerWidth/5&&n.to.y<innerHeight/5||(t.ctx.beginPath(),t.ctx.moveTo(n.from.x,n.from.y),t.ctx.lineTo(n.to.x,n.to.y),t.ctx.stroke())})),this.fade>=256||(this.fade+=5,this.ctx.strokeStyle="rgba(237, 239, 255, "+Math.max(256-this.fade,0)/256+")",this.lastSegments.filter((function(n){return!t.lastSegments.find((function(t){return o.isIntersecting(n,t)&&t.from!==n.from&&t.to!==n.to&&t.from!==n.to&&t.to!==n.from}))})).forEach((function(n){t.borders.map((function(t){return o.isIntersecting(t,n)})).find((function(t){return t}))||n.from.x<0||n.from.x>innerWidth||n.from.y<0||n.from.y>innerHeight||n.to.x<0||n.to.x>innerWidth||n.to.y<0||n.to.y>innerHeight||n.from.x>innerWidth-innerWidth/5&&n.from.y<innerHeight/5||n.to.x>innerWidth-innerWidth/5&&n.to.y<innerHeight/5||(t.ctx.beginPath(),t.ctx.moveTo(n.from.x,n.from.y),t.ctx.lineTo(n.to.x,n.to.y),t.ctx.stroke())})))},n.prototype.getPointByCell=function(t){return this.points.find((function(n){return n.cell.equal(t)}))},n.prototype.calculateSegments=function(){var n=this;this.lastSegmentsPoints=this.points.map((function(t){return new i(t.x,t.y,t.rotationSpeed,t.cell)})),this.lastSegments=this.segments.map((function(t){var e=n.lastSegmentsPoints.find((function(n){return n.equal(t.from)})),i=n.lastSegmentsPoints.find((function(n){return n.equal(t.to)}));return new o(e,i)})),this.fade=0,this.segments.length=0,this.points.forEach((function(e){var i=[];i.push(n.getPointByCell(new t(e.cell.x-1,e.cell.y))),i.push(n.getPointByCell(new t(e.cell.x,e.cell.y-1))),i.push(n.getPointByCell(new t(e.cell.x+1,e.cell.y))),i.push(n.getPointByCell(new t(e.cell.x,e.cell.y+1))),i.push(n.getPointByCell(new t(e.cell.x-1,e.cell.y-1))),i.push(n.getPointByCell(new t(e.cell.x+1,e.cell.y-1))),i.push(n.getPointByCell(new t(e.cell.x+1,e.cell.y+1))),i.push(n.getPointByCell(new t(e.cell.x-1,e.cell.y+1))),i.forEach((function(t){null!=t&&(n.segments.find((function(n){return n.from.equal(e)&&n.to.equal(t)||n.from.equal(t)&&n.to.equal(e)}))||Math.random()<.4&&n.segments.push(new o(e,t)))}))}))},n.prototype.updatePoints=function(t){this.points=this.points.map(t)},n}();const s=r;var h=document.getElementById("canvas"),l=document.getElementById("search-bar");l.addEventListener("keypress",(function(t){if("Enter"===t.key){if(l.value.length<1)return;window.location.href="https://www.google.com/search?q="+l.value.replace(" ","+")}}));var f=h.getContext("2d");h.width=innerWidth,h.height=innerHeight;var a=[new o(new t(0,0),new t(0,innerHeight)),new o(new t(0,innerHeight),new t(innerWidth,innerHeight)),new o(new t(innerWidth,innerHeight),new t(innerWidth,innerHeight/5*4)),new o(new t(0,0),new t(innerWidth/5*4,0)),new o(new t(innerWidth/5*4,0),new t(innerWidth/5*4,innerHeight/5)),new o(new t(innerWidth/5*4,innerHeight/5),new t(innerWidth,innerHeight/5))],c=new s(f,100,a);setInterval((function(){c.updatePoints((function(n){n.rotationSpeed>=1.25?n.rotationSpeed-=Math.random()/10:n.rotationSpeed<.5?n.rotationSpeed+=Math.random()/10:n.rotationSpeed+=Math.random()/10-.05;var e=new t(100*n.cell.x+50,100*n.cell.y+50),i=new t(e.x-n.x,e.y-n.y),o=i.copy().rotate(n.rotationSpeed),r=new t(i.x-o.x,i.y-o.y);return n.x+=r.x,n.y+=r.y,n}))}),1e3/60),setInterval((function(){c.calculateSegments()}),1e4),function t(){f.clearRect(0,0,innerWidth,innerHeight),f.fillStyle="#edefff",f.strokeStyle="#edefff",f.font="128px sans-serif";var n=new Date;f.fillText(n.getHours()+":"+(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes()),innerWidth-innerWidth/5+25,innerHeight/5-25),c.draw(),requestAnimationFrame(t)}()})();